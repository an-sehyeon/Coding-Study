<!doctype html>
<html>
<head>
    <title>DOM</title>
</head>
<body>
    <h1>Name Property</h1>
    <hr>
    <form name="joinForm" id="abcdefg">                                                 <!-- name과 id 속성을 가진 form 태그-->
        <div name ="abdiv">                                                             
            <input type="text" name = "id">                                             <!-- name 속성이 ID인 텍스트 입력 필드 -->
            <input type="button" value="btn" name = "abbutton">                         <!-- name 속성이 abbutton인 버튼 -->
        </div>
        <div>
            <!-- name 속성이 lang인 체크박스 그룹 -->
            <input type="checkbox" name="lang" value = " Java" isPossible="X">Java      <!-- isPossible : 사용자 지정 속성-->
            <input type="checkbox" name="lang" value = " C" checked>C                   <!-- checked : 기본적으로 선택된 체크박스-->
            <input type="checkbox" name="lang" value = " Javascript" >Javasrcipt
        </div>
        <input type="button" value = "checkAll" onclick="checkAll()">                   <!-- checkAll 이름의 버튼을 생성하고, 버튼 클릭 시 checkAll()함수 호출, 모든 체크 박스를 선택하는 버튼 -->
    </form>
</body>
<script>
    console.log(document.joinForm);                                                     // document.joinForm은 form의 name 속성으로 접근 가능
    console.log(joinForm);                                                              // form 요소를 출력

    // name 속성을 사용하여 form 내부의 요소를 참조
    console.log(joinForm.abdiv);                                                        // undefined : div는 name으로 접근 불가
    console.log(joinForm.id);                                                           // form 내부에서 name이 id인 input 요소에 접근
    console.log(joinForm.abbutton);                                                     // form 내부에서 name이 abbutton인 버튼 요소에 접근

    
    
    const checkboxes = document.getElementsByName("lang");                              // getElementsByName으로 name이 lang인 모든 요소를 가져옴
    console.log(checkboxes);                                                            // NodeList로 반환된 체크박스 요소들
    console.log("Try Start");

    checkboxes.forEach((checkbox, index) => {                                           // NodeList에 대해 forEach로 순회하며 각 체크박스의 상태 출력
        console.log(index + ":" + checkbox.checked);                                    // 체크 상태 출력
    });



    // 모든 체크박스를 선택하는 함수
    function checkAll(){
        // HTML콜렉션은 forEach 메서드를 직접 사용할 수 없기 때문에 HTML콜렉션을 배열로 변환하여 사용
        const checkboxes = Array.from(document.getElementsByName("lang"));
        for(let i = 0; i < checkboxes.length; i++){

            // 사용자 지정 속성(isPossible)의 값을 가져오기 위해 getAttribute 사용
            // isPossible 값이 X가 아니면 체크박스 선택하는 조건문
            if(checkboxes[i].getAttribute("isPossible") !== "X") {
                checkboxes[i].checked = true;                           // 체크박스를 선택 상태로 변경
            }
        }

        // checkAll()함수 호출 후 현재 체크 상태 콘솔에 출력
        checkboxes.forEach((checkbox, index) => {                                       // NodeList에 대해 forEach로 순회하며 각 체크박스의 상태 출력
        console.log(index + ":" + checkbox.checked);                                    // 체크 상태 출력
    });
    }
    
</script>

</html>