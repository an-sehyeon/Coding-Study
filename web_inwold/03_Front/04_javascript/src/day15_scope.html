<!doctype html>
<html>
<head>
    <title>Variable Scope</title>
</head>
<body>
    <h1>Java Variable Scope</h1>
</body>
<script>

    // if 블록에서 var로 선언된 변수는 함수 스코프(전역 변수로 동작)
    if(10 > 1) {
        var data1 = 10;                     // data1은 지역변수 같지만 전역 변수
    }
    console.log("#1 : " + data1);           // 콘솔창에 #1 : 10 출력

    // for문에서 var로 선언된 변수 역시 전역 변수로 동작
    for(var i = 0; i < 10; i++){            
        console.log("야 이 바보야" + i);
    }
    console.log("#2 : " + i);               // 콘솔창에 #2 : i(반복문이 종료된 후의 i의 값) 출력

    // type 변화 테스트
    var x = 500.38;
    console.log(typeof(x));                 // 출력 : number (x는 숫자형)
    x = "cuda";                     
    console.log(typeof(x));                 // 출력 : string (x는 문자열로 변경 가능)
    x = 500;                                // x는 다시 숫자형으로 변경 가능
    var zz = 5000;                          // zz는 전역 변수로 선언

    // 함수 선언
    function f() {
        var y;                          // 함수 내 지역 변수 선언
        x = 10;                         // 외부에서 x의 값이 선언이 되어 있었기 때문에 전역 변수인 x의 값을 10으로 변경
        y = 10;                         // 함수 내에서 변수를 선언 했기 때문에 지역 변수 y의 값 할당
        z = 10;                         // var 없이 선언 -> 전역 변수 
        zz = 5;                          
        var zz;                         // 중복 선언 허용 (var 특성)
        zz = 10000;                     // 함수 내부 zz는 지역 변수로 변경
        console.log("#3 : " + zz);      // 출력 #3 : 10000 (함수 내부의 지역 변수인 zz 사용)
    }

    // 함수 호출
    f();
    console.log("#4 x : " + x);
    // console.log("#5 y : " + y);      // y는 함수 내 지역 변수라서 오류
    console.log("#6 z : " + z);
    console.log("#7 zz : " + zz);       // 전역 변수 zz 호출
</script>
</html>